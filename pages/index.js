import Head from 'next/head'
import React, { useContext } from 'react';
import { landingPageDataContext } from '../src/components/Contexts/Contexts';
import { stylesContext } from '../src/components/Contexts/Contexts';

export const getStaticProps = async () => {
  let landingPageData;
  let stylesData;

  const res = await fetch('https://api.npoint.io/888cba28053234afdf51');
  landingPageData = await res.json();
  const result = await fetch('https://api.npoint.io/836be77be325d0a34bd8');
  stylesData = await result.json();

  if (!landingPageData || !stylesData) {
    return {
      notFound: true
    }
  }

  return {
    props: {
      landingPageData: landingPageData,
      stylesData: stylesData
    },
  }
}



export default function Home({ landingPageData, stylesData }) {
  // console.log(landingPageData, stylesData);

  const [pageData, setPageData] = useContext(landingPageDataContext);
  setPageData(landingPageData);

  const [styles, setStyles] = useContext(stylesContext);
  setStyles(stylesData);
  // console.log(styles);
  return (


    <div >
      <Head>
        <title>Data Portrayal</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
    </div>

  )
}



// export const getStaticProps = async () => {
//   let styles;

//   try {
//     const res = await fetch('https://api.npoint.io/836be77be325d0a34bd8');
//     styles = await res.json();
//   } catch (err) {
//     console.log(err);
//   }

//   if (!styles) {
//     return {
//       notFound: true,
//     }
//   }

//   return {
//     props: { styles: styles },
//   }
// }